# GNUmakefile - automatically generated by configure.  Do not edit.

# No suffix rules
.SUFFIXES:

# Include configuration
include Makeconfig

.PHONY:	all  rogue_all lib_all
all:	 rogue_all lib_all

# Include substitution rules.
include subst.rules

include rogue/Makefrag

rogue/%.o:	rogue/%.c
	$(CC) $(CFLAGS) $(rogue_CFLAGS) $(rogue_DEFS) $(BASE_INCS) -Irogue $(rogue_INCS) -c $< -o $@

rogue/%.i:	rogue/%.c
	$(CC) $(CFLAGS) $(rogue_CFLAGS) $(rogue_DEFS) $(BASE_INCS) -Irogue $(rogue_INCS) -E $< -o $@

rogue/%.s:	rogue/%.c
	$(CC) $(CFLAGS) $(rogue_CFLAGS) $(rogue_DEFS) $(BASE_INCS) -Irogue $(rogue_INCS) -S -fverbose-asm $< -o $@

rogue/%.d:	rogue/%.c
	./mkdep $< $@ $(CC) $(CFLAGS) $(rogue_CFLAGS) $(rogue_DEFS) $(BASE_INCS) -Irogue $(rogue_INCS)

include lib/Makefrag

lib/%.o:	lib/%.c
	$(CC) $(CFLAGS) $(lib_CFLAGS) $(lib_DEFS) $(BASE_INCS) -Ilib $(lib_INCS) -c $< -o $@

lib/%.i:	lib/%.c
	$(CC) $(CFLAGS) $(lib_CFLAGS) $(lib_DEFS) $(BASE_INCS) -Ilib $(lib_INCS) -E $< -o $@

lib/%.s:	lib/%.c
	$(CC) $(CFLAGS) $(lib_CFLAGS) $(lib_DEFS) $(BASE_INCS) -Ilib $(lib_INCS) -S -fverbose-asm $< -o $@

lib/%.d:	lib/%.c
	./mkdep $< $@ $(CC) $(CFLAGS) $(lib_CFLAGS) $(lib_DEFS) $(BASE_INCS) -Ilib $(lib_INCS)

ifneq ($(nodep),true)
include  rogue/hit.d rogue/init.d rogue/inventory.d rogue/level.d rogue/machdep.d rogue/main.d rogue/message.d rogue/monster.d rogue/move.d rogue/object.d rogue/pack.d rogue/play.d rogue/random.d rogue/ring.d rogue/room.d rogue/save.d rogue/score.d rogue/spec_hit.d rogue/throw.d rogue/trap.d rogue/use.d rogue/zap.d lib/strlcpy.d
endif

rogue/rogue:	 rogue/hit.o rogue/init.o rogue/inventory.o rogue/level.o rogue/machdep.o rogue/main.o rogue/message.o rogue/monster.o rogue/move.o rogue/object.o rogue/pack.o rogue/play.o rogue/random.o rogue/ring.o rogue/room.o rogue/save.o rogue/score.o rogue/spec_hit.o rogue/throw.o rogue/trap.o rogue/use.o rogue/zap.o lib/strlcpy.o
	$(CC) $(LDFLAGS) $^ $(NCURSES_LIB) $(BASE_LIBS) -o $@

.PHONY:	rogue_clean
rogue_clean:
	cd rogue && rm -f -- a.out core *.o *.d *.i *.s *.d.tmp  rogue $(rogue_CLEANFILES)

.PHONY:	rogue_install rogue_install-strip rogue_installdirs
rogue_install:	rogue_installdirs

rogue_install-strip:
	$(MAKE) rogue_install $(DEFS_TO_PASS_STRIP)

rogue_installdirs:
	set -e; for d in $(rogue_DIRS) /; do mkdir -p $(INSTALL_PREFIX)$$d; done

.PHONY:	lib_clean
lib_clean:
	cd lib && rm -f -- a.out core *.o *.d *.i *.s *.d.tmp  $(lib_CLEANFILES)

.PHONY:	lib_install lib_install-strip lib_installdirs
lib_install:	lib_installdirs

lib_install-strip:
	$(MAKE) lib_install $(DEFS_TO_PASS_STRIP)

lib_installdirs:
	set -e; for d in $(lib_DIRS) /; do mkdir -p $(INSTALL_PREFIX)$$d; done

.PHONY:	clean mostlyclean distclean maintainer-clean
clean mostlyclean:	 rogue_clean lib_clean

distclean maintainer-clean:	clean
	rm -f subst.sed subst.rules
	rm -f test.out
	rm -f `cat substfiles substfiles2 |sed '/^#/d'`
	rm -f GNUmakefile
	rm -f a.out conftest.c include/bsd-games.h
	rm -f exec.libs.tmp exec.objs.tmp

.PHONY:	install install-strip

install:	 rogue_install lib_install

install-strip:
	$(MAKE) install $(DEFS_TO_PASS_STRIP)

.PHONY: check test
check test:	all
	set -e; for f in tests/*.test; do echo $$f; $$f; done

# Standard GNU targets we don't support
.PHONY:	uninstall TAGS dist
uninstall TAGS dist:
	@echo "The GNU target \`$@' is not supported by this package." >&2; exit 1

# GNU targets that can do nothing
.PHONY:	info dvi
info dvi:
	@echo "This package comes with no Texinfo documentation."

